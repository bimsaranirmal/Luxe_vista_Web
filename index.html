<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LuxeVista - Luxury Hotel Experience</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
  <style>
    :root {
      --primary: #1a3c40;
      --secondary: #2c666e;
      --accent: #f0b67f;
      --light: #f7f9f9;
      --gold: #d4af37;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #333;
      overflow-x: hidden;
    }
    
    /* Navbar Styles */
    .navbar {
      background-color: rgba(26, 60, 64, 0.9);
      backdrop-filter: blur(10px);
      padding: 15px 0;
      transition: all 0.3s ease;
    }
    
    .navbar-brand img {
      height: 50px;
      transition: all 0.3s ease;
    }
    
    .navbar-nav .nav-link {
      color: var(--light);
      font-weight: 500;
      margin: 0 10px;
      position: relative;
      transition: all 0.3s ease;
    }
    
    .navbar-nav .nav-link:hover {
      color: var(--accent);
    }
    
    .navbar-nav .nav-link::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: 0;
      left: 0;
      background-color: var(--accent);
      transition: width 0.3s ease;
    }
    
    .navbar-nav .nav-link:hover::after {
      width: 100%;
    }
    
    .navbar .btn-login {
      background-color: transparent;
      border: 2px solid var(--accent);
      color: var(--accent);
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .navbar .btn-login:hover {
      background-color: var(--accent);
      color: var(--primary);
    }
    
    /* Hero Section */
    .hero {
      height: 100vh;
      background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80') no-repeat center center;
      background-size: cover;
      display: flex;
      align-items: center;
      color: white;
      position: relative;
    }
    
    .hero-content {
      max-width: 800px;
      margin: 0 auto;
      text-align: center;
      padding: 20px;
    }
    
    .hero h1 {
      font-size: 4rem;
      font-weight: 700;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }
    
    .hero p {
      font-size: 1.5rem;
      margin-bottom: 30px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    }
    
    .btn-book {
      background: linear-gradient(135deg, var(--accent), var(--gold));
      border: none;
      padding: 12px 30px;
      font-size: 1.2rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      color: var(--primary);
    }
    
    .btn-book:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }
    
    /* About Section */
    .about-section {
      padding: 100px 0;
      background-color: var(--light);
    }
    
    .about-image {
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }
    
    .about-image img {
      width: 100%;
      height: auto;
      transition: all 0.5s ease;
    }
    
    .about-image:hover img {
      transform: scale(1.05);
    }
    
    .section-title {
      position: relative;
      margin-bottom: 40px;
      font-weight: 700;
      color: var(--primary);
    }
    
    .section-title::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 0;
      width: 70px;
      height: 3px;
      background: linear-gradient(to right, var(--accent), var(--gold));
    }
    
    .feature-item {
      margin-bottom: 30px;
    }
    
    .feature-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--accent), var(--gold));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 15px;
      color: white;
      font-size: 24px;
      box-shadow: 0 10px 20px rgba(240, 182, 127, 0.3);
    }
    
    /* Rooms Section */
    .rooms-section {
      padding: 100px 0;
      background-color: #fff;
    }
    
    .rooms-title {
      text-align: center;
      margin-bottom: 60px;
    }
    
    .rooms-title .section-title::after {
      left: 50%;
      transform: translateX(-50%);
    }
    
    .room-card {
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
      transition: all 0.3s ease;
      height: 100%;
    }
    
    .room-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }
    
    .room-image {
      height: 250px;
      overflow: hidden;
      position: relative;
    }
    
    .room-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: all 0.5s ease;
    }
    
    .room-card:hover .room-image img {
      transform: scale(1.1);
    }
    
    .room-type-badge {
      position: absolute;
      top: 15px;
      right: 15px;
      background: linear-gradient(135deg, var(--accent), var(--gold));
      color: white;
      font-weight: 600;
      padding: 5px 15px;
      border-radius: 25px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .room-content {
      padding: 25px;
    }
    
    .room-title {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: var(--primary);
    }
    
    .room-price {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--secondary);
      margin-bottom: 15px;
    }
    
    .room-price span {
      font-size: 1rem;
      color: #888;
      font-weight: 400;
    }
    
    .room-features {
      margin-bottom: 20px;
    }
    
    .room-features span {
      display: inline-block;
      margin-right: 15px;
      font-size: 0.9rem;
      color: #777;
    }
    
    .room-features i {
      color: var(--accent);
      margin-right: 5px;
    }
    
    .room-description {
      font-size: 0.95rem;
      color: #666;
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .btn-view-room {
      background-color: transparent;
      border: 2px solid var(--secondary);
      color: var(--secondary);
      font-weight: 600;
      padding: 8px 20px;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-size: 0.8rem;
    }
    
    .btn-view-room:hover {
      background-color: var(--secondary);
      color: white;
    }
    
    /* Footer */
    .footer {
      background-color: var(--primary);
      color: var(--light);
      padding: 70px 0 0;
    }
    
    .footer-logo img {
      height: 70px;
      margin-bottom: 20px;
    }
    
    .footer-text {
      color: rgba(255, 255, 255, 0.7);
      margin-bottom: 30px;
      line-height: 1.7;
    }
    
    .footer-title {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 25px;
      color: white;
      position: relative;
    }
    
    .footer-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 0;
      width: 40px;
      height: 2px;
      background: linear-gradient(to right, var(--accent), var(--gold));
    }
    
    .footer-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .footer-links li {
      margin-bottom: 12px;
    }
    
    .footer-links a {
      color: rgba(255, 255, 255, 0.7);
      text-decoration: none;
      transition: all 0.3s ease;
    }
    
    .footer-links a:hover {
      color: var(--accent);
      padding-left: 5px;
    }
    
    .footer-contact i {
      color: var(--accent);
      margin-right: 10px;
      width: 20px;
    }
    
    .footer-contact p {
      margin-bottom: 15px;
      color: rgba(255, 255, 255, 0.7);
    }
    
    .social-links {
      margin-top: 30px;
    }
    
    .social-links a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.1);
      color: white;
      margin-right: 10px;
      transition: all 0.3s ease;
    }
    
    .social-links a:hover {
      background-color: var(--accent);
      transform: translateY(-5px);
    }
    
    .copyright {
      text-align: center;
      padding: 20px 0;
      margin-top: 50px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.5);
      font-size: 0.9rem;
    }
    
    /* Loader */
    .loader-container {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 200px;
    }
    
    .loader {
      width: 50px;
      height: 50px;
      border: 5px solid #f3f3f3;
      border-top: 5px solid var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Testimonials Section */
.testimonials-section {
    padding: 100px 0;
    background-color: var(--light);
}

.testimonials-title {
    text-align: center;
    margin-bottom: 60px;
}

.testimonials-title .section-title::after {
    left: 50%;
    transform: translateX(-50%);
}

.review-card {
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    padding: 30px;
    margin-bottom: 30px;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.review-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
}

.review-header {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
}

.review-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: var(--accent);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold;
    margin-right: 15px;
}

.review-author h5 {
    margin-bottom: 0;
    color: var(--primary);
    font-weight: 600;
}

.review-rating .fa-star {
    color: var(--gold);
}

.review-text {
    font-size: 0.95rem;
    color: #555;
    line-height: 1.7;
    flex-grow: 1;
    margin-bottom: 15px;
}

.review-date {
    font-size: 0.8rem;
    color: #888;
    text-align: right;
}

.star-rating-input {
    direction: rtl; /* Right to left to fill stars from left */
    display: inline-block;
    font-size: 2rem; /* Adjust size of stars */
}

.star-rating-input > label {
    color: #ddd; /* Color of empty stars */
    cursor: pointer;
    padding: 0 0.1em;
}

.star-rating-input > input:checked ~ label,
.star-rating-input > label:hover,
.star-rating-input > label:hover ~ label {
    color: var(--gold); /* Color of selected/hovered stars */
}

.star-rating-input > input:checked + label:hover,
.star-rating-input > input:checked ~ label:hover,
.star-rating-input > label:hover ~ input:checked ~ label,
.star-rating-input > input:checked + label:hover ~ label {
    color: var(--gold); /* Gold for hover over already selected */
}

    /* Responsive */
    @media (max-width: 992px) {
      .hero h1 {
        font-size: 3rem;
      }
      
      .hero p {
        font-size: 1.2rem;
      }
    }
    
    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2.5rem;
      }
      
      .about-image {
        margin-bottom: 30px;
      }
      
      .room-image {
        height: 200px;
      }
    }
    
    @media (max-width: 576px) {
      .hero h1 {
        font-size: 2rem;
      }
      
      .btn-book {
        padding: 10px 20px;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="index.html">
        <img src="images/logo.png" alt="LuxeVista Logo">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" href="#home">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#about">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#rooms">Rooms</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#contact">Contact</a>
          </li>
          <li class="nav-item ms-lg-3">
            <a class="btn btn-login" href="login.html">Login / Register</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero" id="home">
    <div class="hero-content animate__animated animate__fadeIn">
      <h1 class="animate__animated animate__fadeInUp">Experience Luxury & Comfort</h1>
      <p class="animate__animated animate__fadeInUp animate__delay-1s">Discover the perfect blend of elegance, comfort, and exceptional service.</p>
      <a href="#rooms" class="btn btn-book animate__animated animate__fadeInUp animate__delay-2s">Book A Room</a>
    </div>
  </section>

  <!-- About Section -->
  <section class="about-section" id="about">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6">
          <div class="about-image">
            <img src="https://images.unsplash.com/photo-1582719508461-905c673771fd?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Hotel Lobby">
          </div>
        </div>
        <div class="col-lg-6">
          <h2 class="section-title">About LuxeVista</h2>
          <p>Welcome to LuxeVista, where luxury meets comfort. Nestled in a prime location, our hotel offers an unparalleled experience of sophistication and tranquility. With meticulously designed spaces, exceptional amenities, and personalized service, we ensure that every moment of your stay is extraordinary.</p>
          
          <div class="row mt-5">
            <div class="col-md-6">
              <div class="feature-item">
                <div class="feature-icon">
                  <i class="fas fa-concierge-bell"></i>
                </div>
                <h4>24/7 Service</h4>
                <p>Our dedicated staff is available round the clock to cater to your needs.</p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="feature-item">
                <div class="feature-icon">
                  <i class="fas fa-wifi"></i>
                </div>
                <h4>Free Wi-Fi</h4>
                <p>Stay connected with complimentary high-speed internet throughout the property.</p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="feature-item">
                <div class="feature-icon">
                  <i class="fas fa-spa"></i>
                </div>
                <h4>Luxury Spa</h4>
                <p>Rejuvenate your body and mind at our premium spa facility.</p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="feature-item">
                <div class="feature-icon">
                  <i class="fas fa-utensils"></i>
                </div>
                <h4>Gourmet Dining</h4>
                <p>Savor exquisite cuisines prepared by our talented chefs.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Rooms Section -->
  <section class="rooms-section" id="rooms">
    <div class="container">
      <div class="rooms-title">
        <h2 class="section-title">Our Luxury Rooms</h2>
        <p>Choose from our selection of exquisitely designed rooms and suites.</p>
      </div>
      
      <div class="row" id="roomsContainer">
        <div class="loader-container">
          <div class="loader"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials-section" id="testimonials">
    <div class="container">
      <div class="testimonials-title">
        <h2 class="section-title">What Our Guests Say</h2>
        <p>Read experiences from guests who enjoyed their stay at LuxeVista.</p>
      </div>
      <div class="row" id="reviewsContainer">
        <!-- Reviews will be loaded here by PHP/JS -->
        <div class="loader-container">
          <div class="loader"></div>
        </div>
      </div>
      <div class="text-center mt-5">
        <button class="btn btn-book" data-bs-toggle="modal" data-bs-target="#reviewModal">Leave a Review</button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer" id="contact">
    <div class="container">
      <div class="row">
        <div class="col-lg-3 col-md-6">
          <div class="footer-logo">
            <img src="images/logo.png" alt="LuxeVista Logo">
          </div>
          <p class="footer-text">Experience unparalleled luxury and comfort at LuxeVista. Your journey to extraordinary hospitality begins here.</p>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
        <div class="col-lg-3 col-md-6">
          <h4 class="footer-title">Quick Links</h4>
          <ul class="footer-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About Us</a></li>
            <li><a href="#rooms">Rooms</a></li>
            <li><a href="#testimonials">Testimonials</a></li>
            <li><a href="#">Amenities</a></li>
            <li><a href="#">Gallery</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div>
        <div class="col-lg-3 col-md-6">
          <h4 class="footer-title">Our Services</h4>
          <ul class="footer-links">
            <li><a href="#">Restaurant & Bar</a></li>
            <li><a href="#">Spa & Wellness</a></li>
            <li><a href="#">Conference Room</a></li>
            <li><a href="#">Swimming Pool</a></li>
            <li><a href="#">Fitness Center</a></li>
            <li><a href="#">Events & Celebrations</a></li>
          </ul>
        </div>
        <div class="col-lg-3 col-md-6">
          <h4 class="footer-title">Contact Us</h4>
          <div class="footer-contact">
            <p><i class="fas fa-map-marker-alt"></i> 123 Luxury Ave, Colombo, Sri Lanka</p>
            <p><i class="fas fa-phone-alt"></i> +94 11 234 5678</p>
            <p><i class="fas fa-envelope"></i> info@luxevista.com</p>
            <p><i class="fas fa-clock"></i> 24/7 Reception Service</p>
          </div>
        </div>
      </div>
    </div>
    <div class="copyright">
      <div class="container">
        <p>&copy; 2025 LuxeVista. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Review Modal -->
  <div class="modal fade" id="reviewModal" tabindex="-1" aria-labelledby="reviewModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="reviewModalLabel">Share Your Experience</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="reviewForm">
            <div class="mb-3">
              <label for="guestName" class="form-label">Your Name</label>
              <input type="text" class="form-control" id="guestName" name="guest_name" required>
            </div>
            <div class="mb-3">
              <label class="form-label d-block">Rating</label>
              <div class="star-rating-input">
                <input type="radio" id="star5" name="rating" value="5" required/><label for="star5" title="5 stars">★</label>
                <input type="radio" id="star4" name="rating" value="4" /><label for="star4" title="4 stars">★</label>
                <input type="radio" id="star3" name="rating" value="3" /><label for="star3" title="3 stars">★</label>
                <input type="radio" id="star2" name="rating" value="2" /><label for="star2" title="2 stars">★</label>
                <input type="radio" id="star1" name="rating" value="1" /><label for="star1" title="1 star">★</label>
              </div>
            </div>
            <div class="mb-3">
              <label for="reviewText" class="form-label">Your Review</label>
              <textarea class="form-control" id="reviewText" name="review_text" rows="4" required></textarea>
            </div>
            <div id="reviewFormMessage" class="mt-3"></div>
            <button type="submit" class="btn btn-primary w-100">Submit Review</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Navbar scroll effect
      const navbar = document.querySelector('.navbar');
      window.addEventListener('scroll', function() {
        if (window.scrollY > 50) {
          navbar.style.padding = '10px 0';
          navbar.style.backgroundColor = 'rgba(26, 60, 64, 0.95)';
        } else {
          navbar.style.padding = '15px 0';
          navbar.style.backgroundColor = 'rgba(26, 60, 64, 0.9)';
        }
        // fetchRooms(); // Call fetchRooms only once or when section is visible
      });
      
      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
          });
        });
      });
      
      // Fetch rooms data
      fetchRooms();
      fetchReviews(); // Fetch reviews on page load
    });
    
      function fetchRooms() {
  fetch('php/get-rooms.php')
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP error! Status: ${response.status}`);
      }
      return response.text();
    })
    .then(html => {
      document.getElementById('roomsContainer').innerHTML = html;
    })
    .catch(error => {
      document.getElementById('roomsContainer').innerHTML = 
        '<div class="col-12 text-center">' +
          '<p>Failed to load rooms. Please check your connection or try again later.</p>' +
          '<p class="text-muted">Error details: ' + error.message + '</p>' +
          '<button class="btn btn-primary mt-3" onclick="fetchRooms()">Try Again</button>' +
        '</div>';
    });
}

function fetchReviews() {
  const reviewsContainer = document.getElementById('reviewsContainer');
  if (!reviewsContainer) return; // Exit if container not found

  fetch('php/get-reviews.php') // This script will output HTML for reviews
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP error! Status: ${response.status}`);
      }
      return response.text();
    })
    .then(html => {
      reviewsContainer.innerHTML = html;
    })
    .catch(error => {
      reviewsContainer.innerHTML = 
        '<div class="col-12 text-center"><p>Failed to load reviews. Please try again later.</p>' +
        '<p class="text-muted">Error details: ' + error.message + '</p></div>';
    });
}
  
  function displayRooms(rooms) {
    const roomsContainer = document.getElementById('roomsContainer');
    roomsContainer.innerHTML = '';
    
    if (rooms.length === 0) {
      roomsContainer.innerHTML = 
        '<div class="col-12 text-center">' +
          '<p>No rooms available at the moment. Please check back later.</p>' +
        '</div>';
      return;
    }
    
    // Loop through each room and add a card to the container
    rooms.forEach(room => {
      const imageUrl = room.main_image ? room.main_image : 'https://images.unsplash.com/photo-1566665797739-1674de7a421a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80';
      
      const roomCard = document.createElement('div');
      roomCard.className = 'col-lg-4 col-md-6 mb-4';
      
      roomCard.innerHTML = `
        <div class="room-card">
          <div class="room-image">
            <img src="${imageUrl}" alt="${room.room_type}">
            <div class="room-type-badge">${room.room_type}</div>
          </div>
          <div class="room-content">
            <h3 class="room-title">Room ${room.room_id}</h3>
            <div class="room-price">$${room.price_per_night} <span>per night</span></div>
            <div class="room-features">
              <span><i class="fas fa-user-friends"></i> ${room.capacity} Guests</span>
              <span><i class="fas fa-check-circle"></i> ${room.availability}</span>
            </div>
            <p class="room-description">${truncateText(room.description, 100)}</p>
            <a href="#" class="btn btn-view-room">View Details</a>
          </div>
        </div>
      `;
      
      roomsContainer.appendChild(roomCard);
    });
  }
  
  function truncateText(text, maxLength) {
    if (text.length <= maxLength) return text;
    return text.substr(0, maxLength) + '...';
  }

  // Handle Review Form Submission
  const reviewForm = document.getElementById('reviewForm');
  if (reviewForm) {
    reviewForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const submitButton = this.querySelector('button[type="submit"]');
      const formMessage = document.getElementById('reviewFormMessage');

      submitButton.disabled = true;
      submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
      formMessage.innerHTML = '';

      fetch('php/submit-review.php', {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        if (data.status === 'success') {
          formMessage.innerHTML = `<div class="alert alert-success">${data.message}</div>`;
          this.reset();
          // Optionally, close modal and refresh reviews
          const reviewModal = bootstrap.Modal.getInstance(document.getElementById('reviewModal'));
          reviewModal.hide();
          fetchReviews(); // Refresh reviews list
        } else {
          formMessage.innerHTML = `<div class="alert alert-danger">${data.message}</div>`;
        }
      })
      .catch(error => {
        formMessage.innerHTML = `<div class="alert alert-danger">An error occurred. Please try again.</div>`;
        console.error('Error submitting review:', error);
      })
      .finally(() => {
        submitButton.disabled = false;
        submitButton.innerHTML = 'Submit Review';
      });
    });
  }
</script>
</body>
</html>